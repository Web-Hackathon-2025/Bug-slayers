@model Karigar.ViewModels.RegisterViewModel
@{
    ViewData["Title"] = "Register";
}

<style>
    .register-container {
        min-height: 80vh;
        display: flex;
        align-items: center;
        background: linear-gradient(135deg, #faf9f7 0%, #f5f5f5 100%);
        padding: 2rem 0;
    }
    .register-image {
        background: url('https://images.unsplash.com/photo-1522075469751-3a6694fb2f61?w=1000&fit=crop') center/cover;
        border-radius: 16px 0 0 16px;
        min-height: 600px;
    }
</style>

<div class="register-container">
    <div class="container">
        <div class="row justify-content-center fade-in">
            <div class="col-md-11 col-lg-10">
                <div class="card shadow-lg" style="border-radius: 16px; overflow: hidden;">
                    <div class="row g-0">
                        <div class="col-md-5 d-none d-md-block register-image"></div>
                        <div class="col-md-7">
                            <div class="card-body p-4 p-md-5">
                                <div class="text-center mb-4">
                                    <h2 class="card-title mb-2" style="color: #0a2540; font-weight: 700;">Create Account</h2>
                                    <p class="text-muted">Join Karigar today</p>
                                </div>
                                
                                <form asp-action="Register" method="post" id="registerForm" novalidate>
                                    <div asp-validation-summary="All" class="text-danger mb-3"></div>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group mb-3">
                                                <label asp-for="FullName" class="form-label">Full Name *</label>
                                                <input asp-for="FullName" class="form-control" placeholder="Enter your full name" required />
                                                <span asp-validation-for="FullName" class="text-danger"></span>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group mb-3">
                                                <label asp-for="Email" class="form-label">Email Address *</label>
                                                <input asp-for="Email" type="email" class="form-control" placeholder="Enter your email" required />
                                                <span asp-validation-for="Email" class="text-danger"></span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group mb-3">
                                                <label asp-for="Password" class="form-label">Password *</label>
                                                <div class="password-wrapper">
                                                    <input asp-for="Password" type="password" class="form-control" id="registerPassword" placeholder="Create password" required />
                                                    <button type="button" class="password-toggle" onclick="togglePassword('registerPassword', this)">
                                                        <i class="bi bi-eye" id="registerPasswordIcon"></i>
                                                    </button>
                                                </div>
                                                <span asp-validation-for="Password" class="text-danger"></span>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group mb-3">
                                                <label asp-for="ConfirmPassword" class="form-label">Confirm Password *</label>
                                                <div class="password-wrapper">
                                                    <input asp-for="ConfirmPassword" type="password" class="form-control" id="confirmPassword" placeholder="Confirm password" required />
                                                    <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword', this)">
                                                        <i class="bi bi-eye" id="confirmPasswordIcon"></i>
                                                    </button>
                                                </div>
                                                <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group mb-3">
                                                <label asp-for="City" class="form-label">City</label>
                                                <input asp-for="City" class="form-control" placeholder="Enter your city" />
                                                <span asp-validation-for="City" class="text-danger"></span>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group mb-3">
                                                <label asp-for="State" class="form-label">State</label>
                                                <input asp-for="State" class="form-control" placeholder="Enter your state" />
                                                <span asp-validation-for="State" class="text-danger"></span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group mb-3">
                                        <label asp-for="Address" class="form-label">Address</label>
                                        <input asp-for="Address" class="form-control" placeholder="Enter your address" />
                                        <span asp-validation-for="Address" class="text-danger"></span>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group mb-3">
                                                <label asp-for="ZipCode" class="form-label">Zip Code</label>
                                                <input asp-for="ZipCode" class="form-control" placeholder="Enter zip code" />
                                                <span asp-validation-for="ZipCode" class="text-danger"></span>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group mb-3">
                                                <label asp-for="Role" class="form-label">I want to *</label>
                                                <select asp-for="Role" class="form-select" required>
                                                    <option value="">Select Role</option>
                                                    <option value="Customer">Find Services</option>
                                                    <option value="ServiceProvider">Offer Services</option>
                                                </select>
                                                <span asp-validation-for="Role" class="text-danger"></span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group mb-3">
                                        <button type="submit" class="btn btn-primary w-100">Create Account</button>
                                    </div>
                                </form>
                                
                                <div class="text-center">
                                    <p class="mb-0">Already have an account? <a asp-action="Login" class="text-primary" style="font-weight: 600;">Login here</a></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script>
        function togglePassword(inputId, button) {
            const input = document.getElementById(inputId);
            const icon = button.querySelector('i');
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('bi-eye');
                icon.classList.add('bi-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.remove('bi-eye-slash');
                icon.classList.add('bi-eye');
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
}
